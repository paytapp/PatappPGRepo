package com.paymentgateway.phonepe;

public class TestNewPayment {

	const crypto = require('crypto');
	const request = require('request');


	const PHONEPE_SALTKEY = "537735a0-d4f2-4761-af5b-887320cb73ab";
	const PHONEPE_MID = "POKERDADDYUAT";
	const SERVER_URL = "https://pokerapi.pokerdaddy.in";
	const PHONEPE_CALLBACK_URL = SERVER_URL + "/pokerApi/v1/purchase/payments/phonepe/return";
	const PURCHASE_REDIRECT_URL = SERVER_URL + "/ngaccount/web/add-money/payment-complete/"
	const PHONEPE_REQUEST_URL = "https://api-preprod.phonepe.com/apis/merchant-simulator/pg/v1/pay"
	
	public static void main(String args) {
		try {
			
		}catch(Exception e) {
			e.printStackTrace();
		}
	}
	public boolean paymentPhonpe() {
		String purchaseId = "1006";
		String userId = "629388";
		int txnAmount = 116;
		txnAmount = txnAmount*100;


		

		try {
			
			String phonepe_payload_card_initiate = "{"+
				    "\"merchantId\":\"" +PHONEPE_MID+"\","+
				    "\"merchantTransactionId\":"+ purchaseId,
				    "merchantUserId": userId,
				    "amount": txnAmount,
				    "redirectUrl": PURCHASE_REDIRECT_URL + purchaseId,
				    "redirectMode": "POST",
				    "callbackUrl": PHONEPE_CALLBACK_URL,
				    "paymentInstrument": {
				        "type":"PAY_PAGE"
				    }
				}
			
		}catch(Exception e) {
			e.printStackTrace();
		}
	}
}
